<!DOCTYPE html>
<html>
<body>
<input id="msg" placeholder="Mensaje..." />
<button onclick="enviar()">Enviar</button>

<pre id="log"></pre>

<script>
    const ws = new WebSocket("wss://98bj5o9bna.execute-api.us-east-1.amazonaws.com/prod");

    ws.onopen = () => log("Conectado");

    ws.onmessage = (msg) => {
        log("Mensaje recibido: " + msg.data);
    };

    function enviar() {
        const texto = document.getElementById("msg").value;

        ws.send(JSON.stringify({
            action: "sendMessage",
            data: texto
        }));
    }

    function log(msg) {
        document.getElementById("log").textContent += msg + "\n";
    }
</script>
</body>
</html>
